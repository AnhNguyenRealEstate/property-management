<div class="row ps-2 pe-2 pb-4">
    <div class="col-12 search-bar">
        <mat-form-field color="default">
            <button matPrefix mat-icon-button disabled>
                <mat-icon>search</mat-icon>
            </button>
            <input matInput [placeholder]="'properties_view.search_placeholder' | translate" type="text"
                [(ngModel)]="algoliaQuery" (ngModelChange)="searchWithAlgolia()">
        </mat-form-field>
    </div>

    <div class="col-12">
        <div *ngIf="apartments.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                Apartments
            </div>
            <div *ngFor="let prop of apartments; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(apartments, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="villas.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                Villas
            </div>
            <div *ngFor="let prop of villas; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop" (delete)="propertyRemoved(villas, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="townhouses.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                Townhouses
            </div>
            <div *ngFor="let prop of townhouses; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(townhouses, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="commercials.length" class="row">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                Commercials
            </div>
            <div *ngFor="let prop of commercials; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(commercials, prop)">
                </property-card>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-center"
        *ngIf="!properties?.length && (propertiesView.gettingProperties$ | async)">
        <mat-spinner color="primary" [diameter]="35"></mat-spinner>
    </div>
</div>

<div class="float-controls-mobile">
    <button mat-raised-button class="mat-elevation-z4" (click)="registerProperty()">
        <mat-icon color="accent">add_business</mat-icon>
        <span class="ps-2">{{ 'property_management.register' | translate }}</span>
    </button>
</div>