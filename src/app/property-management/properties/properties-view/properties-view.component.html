<div class="row ps-2 pe-2 pb-4">
    <div class="col-12 search-bar">
        <mat-form-field color="default">
            <input matInput [placeholder]="'properties_view.search_placeholder' | translate" type="text"
                [(ngModel)]="algoliaQuery">
            <button matSuffix mat-icon-button aria-label="Search" (click)="searchWithAlgolia()">
                <mat-icon>search</mat-icon>
            </button>
        </mat-form-field>
    </div>

    <div class="col-12 ms-2">
        <div *ngIf="apartments.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                {{ 'property_category.apartment' | translate }}
            </div>
            <div *ngFor="let prop of apartments; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(apartments, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="villas.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                {{ 'property_category.villa' | translate }}
            </div>
            <div *ngFor="let prop of villas; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop" (delete)="propertyRemoved(villas, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="townhouses.length" class="row pb-4">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                {{ 'property_category.townhouse' | translate }}
            </div>
            <div *ngFor="let prop of townhouses; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(townhouses, prop)">
                </property-card>
            </div>
        </div>

        <div *ngIf="commercials.length" class="row">
            <div class="col-12 pb-2 text-bold" style="font-size: 18px;">
                {{ 'property_category.commercial' | translate }}
            </div>
            <div *ngFor="let prop of commercials; let i = index;"
                class="d-none d-sm-block col-sm-4 col-xl-3 property-card-wrapper">
                <property-card (click)="showDetails(prop)" [property]="prop"
                    (delete)="propertyRemoved(commercials, prop)">
                </property-card>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-center" *ngIf="propertiesView.gettingProperties$ | async">
        <mat-spinner color="primary" [diameter]="35"></mat-spinner>
    </div>
</div>

<div class="float-controls-mobile">
    <button mat-raised-button class="mat-elevation-z4" (click)="registerProperty()">
        <mat-icon color="accent">add_business</mat-icon>
        <span class="ps-2">{{ 'property_management.register' | translate }}</span>
    </button>
</div>